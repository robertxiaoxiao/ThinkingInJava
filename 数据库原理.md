### 数据库原理

若没有索引则需要很多次IO

B+树： 创建操作系统的文件索引和数据库索引。

（磁盘读写代价低，可以分节点进入内存读取，而B树必须全部进入内存才能读数据，B+树非叶节点可以看成是索引，叶节点存着数据在磁盘中的位置，并且有指针相连，适合sql的条件查询。）

​	B+的磁盘读写代价更低B+的内部结点并没有指向关键字具体信息的指针。因此其内部结点相对B树更小。如果把所有同一内部结点的关键字存放在同一盘块中，那么盘块所能容纳的关键字数量也越多。一次性读入内存中的需要查找的关键字也就越多。相对来说IO读写次数也就降低了。

##### 	B+-tree的查询效率更加稳定由于非终结点并不是最终指向文件内容的结点，而只是叶子结点中关键字的索引。所以任何关键字的查找必须走一条从根结点到叶子结点的路。所有关键字查询的路径长度相同，导致每一个数据的查询效率相当。
B+树    

哪些情况需要创建索引：

1，主键自动建立唯一索引

2，频繁作为查询条件的字段

3，查询中与其他表关联的字段，外键关系建立索引

4，频繁更新的字段不适合创建索引

5，where条件里用不到的字段不创建索引

6，高并发下倾向创建组合索引

7，查询中排序的字段，排序字段若通过索引取访问将大大提高排序速度

8，查询中统计或者分组字段

9，如果某个数据列包含许多重复的内容，建立索引就没有太大的效果

![\](https://www.2cto.com/uploadfile/Collfiles/20180209/20180209095001712.png)

